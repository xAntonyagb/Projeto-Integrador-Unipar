<div class="overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h1>Nova Tarefa</h1>
      <button type="button" class="close" (click)="closeModal()">
        &times;
      </button>
    </div>
    <div class="body">
      <form #form="ngForm" (ngSubmit)="onSubmit($event)">
        <div class="form-row">
        <div class="col-8">
          <label for="titulo">Nome da Tarefa</label>
          <input type="text" class="form-control" id="titulo" name="titulo" [(ngModel)]="titulo" required>
        </div>
        <div class="col-4">
          <label for="previsao">Previsão</label>
          <input type="date" class="form-control" id="previsao" name="previsao" [(ngModel)]="previsao" required>
        </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="ambiente">Ambiente</label>
            <select id="ambiente" name="ambiente" [(ngModel)]="ambienteSelecionado" class="form-control">
              <option *ngFor="let ambiente of ambientes" [value]="ambiente.id">{{ ambiente.descricao }}</option>
            </select>
          </div>
          <div class="col">
            <label>Prioridade</label>
            <div class="prioridade-config">
            <div>
              <input type="radio" id="prioridade-baixa" name="prioridade" value="BAIXA" [(ngModel)]="prioridade">
              <label for="prioridade-baixa">Baixa</label>
            </div>
            <div>
              <input type="radio" id="prioridade-media" name="prioridade" value="MEDIA" [(ngModel)]="prioridade">
              <label for="prioridade-media">Média</label>
            </div>
            <div>
              <input type="radio" id="prioridade-alta" name="prioridade" value="ALTA" [(ngModel)]="prioridade">
              <label for="prioridade-alta">Alta</label>
            </div>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label for="categoria">Categoria</label>
            <select id="categoria" name="categoria" [(ngModel)]="categoriaSelecionada" class="form-control">
              <option *ngFor="let categoria of categorias" [value]="categoria.id.toString()">{{ categoria.descricao }}</option>
            </select>
          </div>
          <div class="col">
            <label for="status">Status</label>
            <select id="status" [(ngModel)]="statusSelecionado" name="status" class="form-control">
              <option *ngFor="let status of statusArray" [value]="status.key">{{ status.value }}</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="descricao">Descrição</label>
          <textarea id="descricao" name="descricao" [(ngModel)]="descricao" class="form-control" rows="3" placeholder="Digite a descrição"></textarea>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-success" (click)="adicionarTarefa()">Cadastrar</button>
        </div>
      </form>
    </div>
  </div>
</div>
