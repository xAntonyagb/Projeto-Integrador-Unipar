<link
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link href="https://unpkg.com/primeflex/primeflex.css" rel="stylesheet" />
<link href="https://unpkg.com/primeicons/primeicons.css" rel="stylesheet" />
<link
  href="https://unpkg.com/quill@1.3.7/dist/quill.snow.css"
  rel="stylesheet"
/>

<div class="py-4 parte-cima-ambiente">
  <div class="header-container">
    <button type="buttom" (click)="openModal()" class="large-button">
      NOVO AMBIENTE
    </button>
    <input
      class="form-control search-bar"
      type="text"
      placeholder="Pesquisar"
      (input)="applyFilter($event)"
    />
    <div class="menu-container">
      <p-menu #menu [popup]="true"></p-menu>
      <p-button
        (onClick)="menu.toggle($event)"
        icon="pi pi-ellipsis-v"
        [rounded]="true"
      />
    </div>
  </div>
  <p class="cinza">Mostrando todos os registros</p>
  <hr />
  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
      <td mat-cell *matCellDef="let element">{{ element.id }}</td>
    </ng-container>

    <ng-container matColumnDef="nome">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nome</th>
      <td mat-cell *matCellDef="let element">{{ element.descricao }}</td>
    </ng-container>

    <ng-container matColumnDef="bloco">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Bloco</th>
      <td mat-cell *matCellDef="let element">{{ element.bloco.descricao }}</td>
    </ng-container>

    <ng-container matColumnDef="patrimonios">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Patrim√¥nios</th>
      <td mat-cell *matCellDef="let element" class="patrimonio">
        {{ element.qtdPatrimonios }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <div class="pagination-container">
    <mat-paginator
      [length]="totalItems"
      [pageSize]="pageSize"
      (page)="onPageChange($event)"
      [showFirstLastButtons]="true"
    >
    </mat-paginator>
  </div>
  <app-cadastrar-ambiente
    *ngIf="isModalOpen"
    (close)="closeModal()"
  ></app-cadastrar-ambiente>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
