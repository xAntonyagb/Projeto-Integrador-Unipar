<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>AssetInsight</title>
    <link rel="icon" type="image/x-icon" href="../../../favicon.ico" />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/primeng/resources/themes/lara-light-indigo/theme.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/primeng/resources/primeng.min.css"
    />
  </head>
  <body>
    <app-sidebar></app-sidebar>

    <app-header></app-header>
    <div class="container-fluid">
      <div class="row card-container">
        <div class="col-md-3 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="card-title">OS Preenchidas</h3>
              <p class="card-text">{{ osPreenchidas }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="card-title">Tarefas Concluídas</h3>
              <p class="card-text">{{ tarefasConcluidas }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="card-title">Média de Gastos</h3>
              <p class="card-text">{{ mediaGastos }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="card-title">Gastos desse mês (OS)</h3>
              <p class="card-text">{{ gastosMes }}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="row month-selector mb-3 rounded-4">
        <div class="col-md-3">
          <label for="month" class="month-font">Selecione um mês:</label>
          <select
            id="month"
            name="month"
            class="form-control"
            (change)="onMesChange($event)"
          >
            <option *ngFor="let mes of meses" [value]="mes.value">
              {{ mes.label }}
            </option>
          </select>
        </div>
      </div>

      <!-- Gráfico de Donut 1 -->
      <div class="row charts-container">
        <div class="col mb-3">
          <div class="card h-100">
            <div class="card-body">
              <p-chart
                id="donut-chart-1"
                type="doughnut"
                [data]="donutData1"
                [options]="donutOptions"
              ></p-chart>
            </div>
          </div>
        </div>

        <!-- Gráfico de Donut 2 -->
        <div class="col mb-3">
          <div class="card h-100">
            <div class="card-body">
              <p-chart
                id="donut-chart-2"
                type="doughnut"
                [data]="donutData2"
                [options]="donutOptions"
              ></p-chart>
            </div>
          </div>
        </div>

        <!-- Gráfico de Donut 3 -->
        <div class="col-3 mb-3">
          <div class="card h-100 w-100">
            <div class="card-body">
              <p-chart
                id="donut-chart-3"
                type="doughnut"
                [data]="donutData3"
                [options]="donutOptions"
              ></p-chart>
            </div>
          </div>
        </div>

        <!-- Textos ao lado dos gráficos -->
        <div class="col-3">
          <!-- Card de texto 1 -->
          <div class="col card h-50 mb-3">
            <div>
              <p class="card-text">
                Patrimônio com maior número de serviços do mês
              </p>
              <h4 class="card-text">{{ patrimonioMaiorNumeroServicos }}</h4>
            </div>
          </div>

          <!-- Card de texto 2 -->
          <div class="col card h-40 mb-2">
            <div>
              <p class="card-text">Bloco com maior número de serviços do mês</p>
              <h4 class="card-text">{{ blocoMaiorNumeroServicos }}</h4>
            </div>
          </div>
        </div>
      </div>
      <hr />
      <div class="row charts-container">
        <!-- Gráfico de Donut 4 -->
        <div class="col mb-3">
          <div class="card h-100">
            <div class="card-body">
              <p-chart
                id="donut-chart-4"
                type="doughnut"
                [data]="donutData1"
                [options]="donutOptions"
              ></p-chart>
            </div>
          </div>
        </div>

        <!-- Gráfico de Donut 5 -->
        <div class="col mb-3">
          <div class="card h-100">
            <div class="card-body">
              <p-chart
                id="donut-chart-5"
                type="doughnut"
                [data]="donutData2"
                [options]="donutOptions"
              ></p-chart>
            </div>
          </div>
        </div>

        <!-- Gráfico de Donut 6 -->
        <div class="col-3 mb-3">
          <div class="card h-100 w-100">
            <div class="card-body">
              <p-chart
                id="donut-chart-6"
                type="doughnut"
                [data]="donutData3"
                [options]="donutOptions"
              ></p-chart>
            </div>
          </div>
        </div>

        <!-- Coluna de textos ao lado dos gráficos -->
        <div class="col-3">
          <!-- Card de texto 1 -->
          <div class="col card h-50 mb-3 py-3">
            <div>
              <p class="card-text">
                Patrimônio com maior número de serviços do ano
              </p>
              <h4 class="card-text">{{ patrimonioMaiorNumeroServicosAno }}</h4>
            </div>
          </div>

          <!-- Card de texto 2 -->
          <div class="col card h-40">
            <div>
              <p class="card-text">Bloco com maior número de serviços do ano</p>
              <h4 class="card-text">{{ blocoMaiorNumeroServicosAno }}</h4>
            </div>
          </div>
        </div>
      </div>

      <div class="row charts-container py-3 px-3">
        <div class="col-9 mb-3 charts-container">
          <div class="card h-100" style="min-height: 500px">
            <div class="card-body" style="height: 25rem; width: 100%">
              <p-chart
                id="line-chart"
                type="line"
                [data]="lineChartData"
                [options]="lineChartOptions"
              ></p-chart>
            </div>
          </div>
        </div>

        <!-- Coluna vazia -->
        <div class="col-3">
          <div class="mb-3" style="min-height: 200px"></div>

          <!-- Texto 2 ao lado, abaixo da coluna vazia -->
          <div class="card h-40 mb-3">
            <div class="card-body">
              <p class="card-text">Serviços realizados esse ano</p>
              <h4 class="card-text">{{ servicosRealizadosAno }}</h4>
            </div>
          </div>

          <!-- Texto 3 ao lado -->
          <div class="card h-40">
            <div class="card-body">
              <p class="card-text">Total de gastos esse ano(OS)</p>
              <h4 class="card-text">{{ totalGastosAno }}</h4>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/primeng/primeng.min.js"></script>
  </body>
</html>
